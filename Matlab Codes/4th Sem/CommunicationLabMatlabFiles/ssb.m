t=0:0.001:1; 
Ts=0.001; 
Am=5; 
Ac=5; 
fm=10; 
fc=100; 
m=Am*sin(2*pi*fm*t); 
c=Ac*cos(2*pi*fc*t); 
figure(1); 
subplot(2,2,1); 
plot(t,m);
subplot(2,2,2);
plot(t,c); 
x=m.*c; 
subplot(2,2,3); 
plot(t,x); 
N=1024; 
XC=fft(x,N); 
f=(-N/2:1:((N/2)-1))*(1/(N*Ts));
figure(2); 
subplot(2,1,1);
mh = Am*sin(2*pi*fm*t); 
ch=   Ac*sin(2*pi*fc*t); 
xu = 0.5*( (m.*c) - (mh.*ch));
XU = fft(xu,N); 
subplot(2,1,2); 
plot(f,abs(XU),'r');
d=xu.*c;
w=0.05; 
[num,dem]=butter(2,w); 
Y=filter(num,dem,d); 
figure(3);
subplot(2,1,1); 
plot(t,Y);
subplot(2,1,2); 
plot(t,m); 


